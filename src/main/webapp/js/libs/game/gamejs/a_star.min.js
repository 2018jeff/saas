function AStar(b){var a=b;this.find_path=function(e,m){var c=a.length;var j=a[0].length;e=new this.Node(e[0],e[1],-1,-1,-1,-1);m=new this.Node(m[0],m[1],-1,-1,-1,-1);var k=[];var d=[];var r=0;var p=this.heuristic(e,m);var s=r+p;k.push(e);while(k.length>0){var u=k[0].f;var n=0;for(var o=1;o<k.length;o++){if(k[o].f<u){u=k[o].f;n=o}}var q=k[n];if(q.x==m.x&&q.y==m.y){var l=[m];while(q.parent_index!=-1){q=d[q.parent_index];l.unshift(q)}return l}k.splice(n,1);d.push(q);for(var x=Math.max(0,q.x-1);x<=Math.min(c-1,q.x+1);x++){for(var v=Math.max(0,q.y-1);v<=Math.min(j-1,q.y+1);v++){if(a[x][v]==0||(m.x==x&&m.y==v)){var w=false;for(var o in d){if(d[o].x==x&&d[o].y==v){w=true;break}}if(w){continue}var y=false;for(var o in k){if(k[o].x==x&&k[o].y==v){y=true;break}}if(!y){var t=new this.Node(x,v,d.length-1,-1,-1,-1);t.g=q.g+Math.floor(Math.sqrt(Math.pow(t.x-q.x,2)+Math.pow(t.y-q.y,2)));t.h=this.heuristic(t,m);t.f=t.g+t.h;k.push(t)}}}}}return[]};this.update_board=function(c){a=c};this.heuristic=function(e,d){var c=e.x-d.x;var f=e.y-d.y;return c*c+f*f};this.Node=function(c,k,d,i,e,j){this.x=c;this.y=k;this.parent_index=d;this.g=i;this.h=e;this.f=j}};