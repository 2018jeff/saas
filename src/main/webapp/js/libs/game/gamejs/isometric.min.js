Isometric=function(b,a){var b=b?b:64;var a=a?a:0.5;this.screen=null;this.pos=[0,0];this.set_screen_object=function(c){this.screen=c};this.set_focus=function(c){this.pos=c};this.screen_to_world=function(e){var d=(this.screen?this.screen.width/2:0);var c=(this.screen?this.screen.height/2:0);return[-(a*d-e[0]*a-e[1]+c)/(2*a*b)+this.pos[0],-(a*d-e[0]*a+e[1]-c)/(2*a*b)+this.pos[1]]};this.s2w=this.screen_to_world;this.world_to_screen=function(h){var d=h[0]-this.pos[0];var g=h[1]-this.pos[1];var f=h.length==3?h[2]:0;var e=(this.screen?this.screen.width/2:0);var c=(this.screen?this.screen.height/2:0);return[(d+g)*b+e,((d-g)*a-f)*b+c]};this.w2s=this.world_to_screen};