var noise={};noise.PerlinNoise=function(b){if(b==undefined){b=Math}this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]];this.p=[];for(var a=0;a<256;a++){this.p[a]=Math.floor(b.random()*256)}this.perm=[];for(var a=0;a<512;a++){this.perm[a]=this.p[a&255]}};noise.PerlinNoise.prototype.dot=function(b,a,d,c){return b[0]*a+b[1]*d+b[2]*c};noise.PerlinNoise.prototype.mix=function(d,c,e){return(1-e)*d+e*c};noise.PerlinNoise.prototype.fade=function(a){return a*a*a*(a*(a*6-15)+10)};noise.PerlinNoise.prototype.noise=function(s,r,p){var h=Math.floor(s);var f=Math.floor(r);var e=Math.floor(p);s=s-h;r=r-f;p=p-e;h=h&255;f=f&255;e=e&255;var c=this.perm[h+this.perm[f+this.perm[e]]]%12;var a=this.perm[h+this.perm[f+this.perm[e+1]]]%12;var o=this.perm[h+this.perm[f+1+this.perm[e]]]%12;var m=this.perm[h+this.perm[f+1+this.perm[e+1]]]%12;var F=this.perm[h+1+this.perm[f+this.perm[e]]]%12;var E=this.perm[h+1+this.perm[f+this.perm[e+1]]]%12;var L=this.perm[h+1+this.perm[f+1+this.perm[e]]]%12;var K=this.perm[h+1+this.perm[f+1+this.perm[e+1]]]%12;var k=this.dot(this.grad3[c],s,r,p);var H=this.dot(this.grad3[F],s-1,r,p);var D=this.dot(this.grad3[o],s,r-1,p);var i=this.dot(this.grad3[L],s-1,r-1,p);var j=this.dot(this.grad3[a],s,r,p-1);var G=this.dot(this.grad3[E],s-1,r,p-1);var C=this.dot(this.grad3[m],s,r-1,p-1);var g=this.dot(this.grad3[K],s-1,r-1,p-1);var B=this.fade(s);var A=this.fade(r);var t=this.fade(p);var d=this.mix(k,H,B);var b=this.mix(j,G,B);var q=this.mix(D,i,B);var n=this.mix(C,g,B);var J=this.mix(d,q,A);var I=this.mix(b,n,A);var l=this.mix(J,I,t);return l};noise.SimplexNoise=function(b){if(b==undefined){b=Math}this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]];this.p=[];for(var a=0;a<256;a++){this.p[a]=Math.floor(b.random()*256)}this.perm=[];for(var a=0;a<512;a++){this.perm[a]=this.p[a&255]}this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]};noise.SimplexNoise.prototype.dot=function(b,a,c){return b[0]*a+b[1]*c};noise.SimplexNoise.prototype.noise=function(C,g){var m,k,h;var z=0.5*(Math.sqrt(3)-1);var r=(C+g)*z;var A=Math.floor(C+r);var y=Math.floor(g+r);var b=(3-Math.sqrt(3))/6;var q=(A+y)*b;var G=A-q;var f=y-q;var F=C-G;var e=g-f;var x,a;if(F>e){x=1;a=0}else{x=0;a=1}var D=F-x+b;var d=e-a+b;var B=F-1+2*b;var c=e-1+2*b;var p=A&255;var E=y&255;var w=this.perm[p+this.perm[E]]%12;var v=this.perm[p+x+this.perm[E+a]]%12;var u=this.perm[p+1+this.perm[E+1]]%12;var o=0.5-F*F-e*e;if(o<0){m=0}else{o*=o;m=o*o*this.dot(this.grad3[w],F,e)}var n=0.5-D*D-d*d;if(n<0){k=0}else{n*=n;k=n*n*this.dot(this.grad3[v],D,d)}var l=0.5-B*B-c*c;if(l<0){h=0}else{l*=l;h=l*l*this.dot(this.grad3[u],B,c)}return 70*(m+k+h)};noise.SimplexNoise.prototype.noise3d=function(L,y,r){var B,A,z,x;var E=1/3;var P=(L+y+r)*E;var T=Math.floor(L+P);var R=Math.floor(y+P);var Q=Math.floor(r+P);var l=1/6;var O=(T+R+Q)*l;var N=T-O;var u=R-O;var b=Q-O;var q=L-N;var a=y-u;var M=r-b;var d,U,w;var c,S,v;if(q>=a){if(a>=M){d=1;U=0;w=0;c=1;S=1;v=0}else{if(q>=M){d=1;U=0;w=0;c=1;S=0;v=1}else{d=0;U=0;w=1;c=1;S=0;v=1}}}else{if(a<M){d=0;U=0;w=1;c=0;S=1;v=1}else{if(q<M){d=0;U=1;w=0;c=0;S=1;v=1}else{d=0;U=1;w=0;c=1;S=1;v=0}}}var p=q-d+l;var Y=a-U+l;var K=M-w+l;var o=q-c+2*l;var X=a-S+2*l;var J=M-v+2*l;var n=q-1+3*l;var W=a-1+3*l;var I=M-1+3*l;var G=T&255;var h=R&255;var V=Q&255;var m=this.perm[G+this.perm[h+this.perm[V]]]%12;var g=this.perm[G+d+this.perm[h+U+this.perm[V+w]]]%12;var f=this.perm[G+c+this.perm[h+S+this.perm[V+v]]]%12;var e=this.perm[G+1+this.perm[h+1+this.perm[V+1]]]%12;var H=0.6-q*q-a*a-M*M;if(H<0){B=0}else{H*=H;B=H*H*this.dot(this.grad3[m],q,a,M)}var F=0.6-p*p-Y*Y-K*K;if(F<0){A=0}else{F*=F;A=F*F*this.dot(this.grad3[g],p,Y,K)}var D=0.6-o*o-X*X-J*J;if(D<0){z=0}else{D*=D;z=D*D*this.dot(this.grad3[f],o,X,J)}var C=0.6-n*n-W*W-I*I;if(C<0){x=0}else{C*=C;x=C*C*this.dot(this.grad3[e],n,W,I)}return 32*(B+A+z+x)};