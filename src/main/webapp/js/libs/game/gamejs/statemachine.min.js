function statemachine(a){a.state="";a.set_state=function(c){for(var b in this){if(!b.indexOf(c+"_")&&typeof(this[b])=="function"){var d=b.split("_");if(d.length==2){this[d[1]]=this[b]}}}this.state=c;if(typeof(this[c+"_init"])=="function"){this[c+"_init"]()}};return a};